{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}-
	{{car.title}}
{% endblock %}

{% block body %}
	<div class="container mb-5 body-height">
		<div>
			<h1 class="mt-4">Modifier le véhicule
				{{car.title}}</h1>
			<div class="row g-3">
				{{ form_start(form) }}

				<div class="colonne">
					<div class="col-lg-4 col-md-8">

						<h4 class="mt-6">Informations principale :</h4>

						<div class="form-group col-md-10">
							{{ form_label(form.title) }}
							{{ form_widget(form.title) }}
							<div class="form-error">
								{{ form_errors(form.title) }}
							</div>
						</div>

						<div class="form-group col-md-10">
							{{ form_label(form.price) }}
							{{ form_widget(form.price) }}
							<div class="form-error">
								{{ form_errors(form.price) }}
							</div>
						</div>

						<div class="form-group col-md-10">
							{{ form_label(form.year) }}
							{{ form_widget(form.year) }}
							<div class="form-error">
								{{ form_errors(form.year) }}
							</div>
						</div>

						<div class="form-group col-md-10">
							{{ form_label(form.kilometer) }}
							{{ form_widget(form.kilometer) }}
							<div class="form-error">
								{{ form_errors(form.kilometer) }}
							</div>
						</div>

						{% if app.request.attributes.get('_route') == 'car.edit' %}
							<h4 class="mt-4 mb-4">Images :</h4>
							{% for image in car.images %}

							<div class="m-2">
							<img src="{{ asset('assets/uploads/car/' ~ image.name ) }}" alt="Image" width="150">
							<a href="{{ path('car.delete_image', { id: image.id }) }}" data-delete data-token="{{ csrf_token('delete' ~ image.id )}}" class="btn btn-warning" id="delete_images">Supprimer</a>
							
						</div>
							{% endfor %}
						{% endif %}

						<div class="form-group col-md-10 mt-4 mb-4">
							{{ form_label(form.images) }}
							{{ form_widget(form.images) }}
							<div class="form-error">
								{{ form_errors(form.images) }}
							</div>
						</div>

					</div>

					<div class="col-lg-8 col-md-12">
						<h4 class="mt-6">Informations complémentaires :</h4>
						<div class="information ">
							<div class="width">


								<div class="form-group col-md-10">
									{{ form_label(form.type) }}
									{{ form_widget(form.type) }}
									<div class="form-error">
										{{ form_errors(form.type) }}
									</div>
								</div>

								<div class="form-group col-md-10">
									{{ form_label(form.fuel) }}
									{{ form_widget(form.fuel) }}
									<div class="form-error">
										{{ form_errors(form.fuel) }}
									</div>
								</div>


								<div class="form-group col-md-10">
									{{ form_label(form.color) }}
									{{ form_widget(form.color) }}
									<div class="form-error">
										{{ form_errors(form.color) }}
									</div>
								</div>


								<div class="form-group col-md-10">
									{{ form_label(form.gearbox) }}
									{{ form_widget(form.gearbox) }}
									<div class="form-error">
										{{ form_errors(form.gearbox) }}
									</div>
								</div>

								<div class="form-group col-md-10">
									{{ form_label(form.fiscalPower) }}
									{{ form_widget(form.fiscalPower) }}
									<div class="form-error">
										{{ form_errors(form.fiscalPower) }}
									</div>
								</div>

							</div>
							<div class="width">


								<div class="form-group col-md-10">
									{{ form_label(form.realPower) }}
									{{ form_widget(form.realPower) }}
									<div class="form-error">
										{{ form_errors(form.realPower) }}
									</div>
								</div>

								<div class="form-group col-md-10">
									{{ form_label(form.numberOfDoor) }}
									{{ form_widget(form.numberOfDoor) }}
									<div class="form-error">
										{{ form_errors(form.numberOfDoor) }}
									</div>
								</div>

								<div class="form-group col-md-10">
									{{ form_label(form.numberOfPlace) }}
									{{ form_widget(form.numberOfPlace) }}
									<div class="form-error">
										{{ form_errors(form.numberOfPlace) }}
									</div>
								</div>

								<div class="form-group col-md-10">
									{{ form_label(form.emission) }}
									{{ form_widget(form.emission) }}
									<div class="form-error">
										{{ form_errors(form.emission) }}
									</div>
								</div>

								<div class="form-group col-md-10 col-xs-12 col-sm-12">
									{{ form_label(form.equipment) }}
									{{ form_widget(form.equipment) }}
									<div class="form-error">
										{{ form_errors(form.equipment) }}
									</div>
								</div>

								<div class="">
				<div class="form-group width d-flex justify-content-between">
					{{ form_label(form.submit) }}
					{{ form_widget(form.submit) }}
					<div class="d-flex align-items-end">
						<a href="{{ path('car.index') }}" class="btn btn-primary">Annuler</a>
					</div>
				</div>

			</div>
							</div>

						</div>
					</div>

					{{ form_rest(form) }}
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="{{asset('assets/js/select2.js')}}"></script>
	<script src="{{asset('assets/js/imagesUploads.js')}}" defer></script>
{% endblock %}
