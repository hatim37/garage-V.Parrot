{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}- Nos voitures
{% endblock %}

{% block body %}

	<div class="container">
		<h1 class="mt-4">Nos voitures</h1>
		<a href="{{ path('car.new') }}" class="btn btn-primary ">Ajouter un véhicule</a>

		{% if not car.items is same as ([]) %}

			<h3>
				<div class="count mt-4">Nous avons
					{{ car.getTotalItemCount }}
					voitures disponibles</div>
			</h3>


			{% for message in app.flashes('success') %}
				<div class="alert alert-success mt-3">
					{{ message }}</div>
			{% endfor %}


			<div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-3 g-4 mt-4 mb-10 ">
				{% for car in car %}
					<div class="col">
						<div class="card text-white bg-primary mb-3 card_mobile">
							<img style="max-height: 232px;" src="{{ asset('assets/uploads/car/' ~ car.images[0].name)}}">
							<div class="card-body">
								<h5 class="card-title">
									<span class="text-white">{{ car.title }}</span>
								</h5>

								<div class="information with m-3 size-annonce">
									<ul class="list-group list-group-flush width">
										<li class="mt-2">
											<i class="fa fa-calendar"></i>
											&thinsp; 
											{{ car.year|date('j/m/Y') }}
										</li>
									</ul>

									<ul class="list-group list-group-flush width">
										<li class="mt-2">
											<i class="fa fa-gauge-high"></i>
											&thinsp;
											{{ car.kilometer|number_format(0,"."," ") }}
											Km
										</li>
									</ul>
								</div>

								<h4 class="mt-3">{{ car.price }} €</h4>
								<h6>Garantie 3 MOIS OU 5000 KM</h6>


							</div>
							<div class="d-flex justify-content-evenly m-4">
								<a href="{{ path('car.show', { id: car.id }) }}" class="btn btn-info">Consulter</a>
								<a href="{{ path('car.edit', { id: car.id }) }}" class="btn btn-info">Modifier</a>
								<a href="{{ path('car.delete', { id: car.id }) }}" class="btn btn-danger">Supprimer</a>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
			<div class="navigation d-flex justify-content-center mt-4 ">{{ knp_pagination_render(car) }}</div>
		{% else %}
			<h4>Aucun car n'a été trouvé</h4>
			<a href="{{ path('car.new') }}" class="btn btn-primary ">Ajouter un car</a>
		{% endif %}
	</div>

{% endblock %}
